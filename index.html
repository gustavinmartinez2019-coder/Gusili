<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Para mi ni√±a ‚ù§Ô∏è</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* ============ RESET ============ */
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family:Gotham, "Helvetica Neue", Helvetica, Arial, sans-serif;
}

/* ============ FONDO ============ */
body{
    background: linear-gradient(120deg, #ff758c, #ff7eb3);
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
}

/* ============ SOBRE ============ */
.envelope-container{
    position:relative;
    width:820px;
    height:620px;
    cursor:pointer;
    z-index:5;
}

.envelope{
    position:relative;
    width:100%;
    height:100%;
    background:#fff;
    border-radius:8px;
    box-shadow:0 20px 40px rgba(0,0,0,.25);
    overflow:hidden;
}

/* TAPA */
.envelope::before{
    content:'';
    position:absolute;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:#f7d6e0;
    clip-path: polygon(0 0, 50% 55%, 100% 0);
    transform-origin:top;
    transition: transform 1s ease;
    z-index:4;
}

/* ============ CARTA ============ */
.letter{
    position:absolute;
    bottom:-150%;
    left:50%;
    transform:translateX(-50%);
    width:95%;
    max-width:560px;
    max-height:75vh;
    background:#fff;
    border-radius:10px;
    padding:24px;
    text-align:center;
    box-shadow:0 15px 35px rgba(0,0,0,.2);
    transition:bottom 1.2s ease;
    z-index:6;
    overflow-y:auto;
}

.letter h2{
    color:#ff4f81;
    margin-bottom:10px;
}

.letter p{
    font-size:16px;
    color:#444;
    line-height:1.6;
}

/* ============ FIRMA ============ */
.signature{
    margin-top:20px;
    font-size:22px;
    color:#ff4f81;
    font-family:'Brush Script MT','Segoe Script',cursive;
    opacity:0;
    display:block;
    white-space:nowrap;
    border-right:2px solid #ff4f81;
    width:0;
}

/* ============ ABIERTO ============ */
.open .letter{
    bottom:20px;
}

.open .envelope::before{
    transform:rotateX(180deg);
}

/* ============ TEXTO INFERIOR ============ */
.tap-text{
    position:absolute;
    bottom:-40px;
    width:100%;
    text-align:center;
    font-size:14px;
    color:#fff;
    opacity:.9;
}

/* ============ CORAZONES ============ */
.heart{
    position:absolute;
    color:#ff4f81;
    font-size:20px;
    animation:float 6s linear infinite;
    opacity:.8;
}

@keyframes float{
    0%{
        transform:translateY(100vh) scale(1);
        opacity:0;
    }
    10%{opacity:1;}
    100%{
        transform:translateY(-10vh) scale(1.5);
        opacity:0;
    }
}

/* ============ BOT√ìN M√öSICA ============ */
#musicBtn{
    position:fixed;
    bottom:20px;
    right:20px;
    background:rgba(255,255,255,0.9);
    border:none;
    padding:10px 16px;
    border-radius:30px;
    font-size:14px;
    cursor:pointer;
    box-shadow:0 8px 20px rgba(0,0,0,.2);
    transition:.3s;
}

#musicBtn:hover{
    transform:scale(1.05);
}

/* ============ RESPONSIVE CELULAR ============ */
@media (max-width: 600px){
    .envelope-container{
        width:90%;
        height:260px;
    }

    .letter{
        padding:18px;
        font-size:15px;
        max-height:70vh;
    }

    .letter h2{
        font-size:20px;
    }
}
</style>
</head>

<body>

<audio id="music" loop>
    <source src="musica.mp3" type="audio/mpeg">
</audio>

<div class="envelope-container" id="envelope">
    <div class="envelope">
        <div class="letter">
            <h2>Para Ti ‚ù§Ô∏è</h2>
            <p>
                Desde que llegaste a mi vida, todo tiene m√°s color,
                m√°s sentido y m√°s amor.
                <br><br>
                Eres tan especial y tan importante para m√≠;
                tan hermosa, tan simp√°tica, tan bella y carism√°tica.
                Quiero que seas t√∫.
                <br><br>
                No es solo el 14 de febrero,
                es cada d√≠a que sonr√≠o al pensarte.
                <br><br>
                Gracias por existir y por elegirme.
                Te amo.
            </p>

            <div class="signature">‚Äî Con amor, Güíï</div>
        </div>
    </div>
    <div class="tap-text">Haz clic para abrir üíå</div>
</div>

<button id="musicBtn">üîä M√∫sica</button>

<script>
const envelope = document.getElementById("envelope");
const music = document.getElementById("music");
const musicBtn = document.getElementById("musicBtn");
const firma = document.querySelector(".signature");

let abierto = false;
let musicaActiva = true;

envelope.addEventListener("click", () => {
    envelope.classList.toggle("open");
    abierto = !abierto;

    if (abierto && musicaActiva) {
        music.volume = 0;
        music.play();
        fadeIn();
        escribirFirma();
    } else {
        fadeOut();
        resetFirma();
    }
});

musicBtn.addEventListener("click", () => {
    musicaActiva = !musicaActiva;
    musicBtn.textContent = musicaActiva ? "üîä M√∫sica" : "üîá M√∫sica";

    if (!musicaActiva) fadeOut();
    else if (abierto) {
        music.play();
        fadeIn();
    }
});

function fadeIn(){
    let vol = 0;
    const subir = setInterval(() => {
        if (vol < 0.4) {
            vol += 0.02;
            music.volume = vol;
        } else clearInterval(subir);
    }, 200);
}

function fadeOut(){
    let vol = music.volume;
    const bajar = setInterval(() => {
        if (vol > 0) {
            vol -= 0.02;
            music.volume = vol;
        } else {
            clearInterval(bajar);
            music.pause();
        }
    }, 200);
}

function escribirFirma(){
    const texto = "‚Äî Con amor, Güíï";
    firma.textContent = "";
    firma.style.opacity = 1;
    firma.style.width = "0";
    let i = 0;

    const escribir = setInterval(() => {
        if (i < texto.length) {
            firma.textContent += texto.charAt(i);
            firma.style.width = (i + 1) + "ch";
            i++;
        } else {
            clearInterval(escribir);
            firma.style.borderRight = "none";
        }
    }, 120);
}

function resetFirma(){
    firma.textContent = "";
    firma.style.opacity = 0;
    firma.style.width = "0";
    firma.style.borderRight = "2px solid #ff4f81";
}
</script>

</body>
</html>

